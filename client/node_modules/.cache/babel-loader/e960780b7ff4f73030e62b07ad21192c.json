{"ast":null,"code":"var _jsxFileName = \"/home/rjmata95/Desktop/Learning/platzi/react/hello-react/src/pages/MainApp.js\";\nimport React from \"react\";\nimport \"./styles/MainApp.css\";\nimport NavBar from \"../components/NavBar\";\nimport EmployeeForm from \"../components/EmployeeForm\";\nimport EmployeeTable from \"../components/EmployeeTable\";\nimport { v4 as uuid } from \"uuid\";\nimport formValidation from \"../components/formValidation\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst formInitialState = {\n  name: \"\",\n  nameError: null,\n  email: \"\",\n  emailError: null,\n  role: \"\",\n  roleError: null,\n  dob: \"\",\n  dobError: null,\n  gender: \"\",\n  genderError: null\n};\n\nclass mainApp extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchData = async () => {\n      this.setState({\n        table: {\n          loading: true\n        }\n      });\n\n      try {\n        const response = await fetch(\"http://localhost:8080/table\");\n        const data = await response.json();\n        this.setState({\n          table: {\n            loading: false,\n            data: data.body\n          }\n        });\n      } catch (error) {\n        this.setState({\n          table: {\n            loading: false\n          },\n          error\n        });\n        console.log(`there's been an error: ${error}`);\n      }\n    };\n\n    this.submitData = async data => {\n      this.setState({\n        loading: true\n      });\n\n      try {\n        const response = await fetch(\"http://localhost:8080/table\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(data)\n        });\n        this.setState({\n          loading: false\n        });\n        let parsedResponse = await response.json();\n        return Promise.resolve(parsedResponse.body);\n      } catch (error) {\n        this.setState({\n          loading: false,\n          error\n        });\n        console.log(`there was an Error during POST method: ${error}`);\n        return Promise.reject(error);\n      }\n    };\n\n    this.deleteData = async id => {\n      this.setState({\n        loading: true\n      });\n\n      try {\n        const response = await fetch(`http://localhost:8080/table/${id}`, {\n          method: \"DELETE\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: \"\"\n        });\n        const parsedResponse = await response.json();\n\n        if (response.status) {\n          let updatedTable = [...this.state.table.data].filter(element => element._id !== id);\n          console.log(parsedResponse);\n          this.setState({\n            loading: false,\n            table: {\n              data: updatedTable\n            }\n          });\n        } else {\n          this.setState({\n            loading: false\n          });\n          throw \"Server response status is set to Failure\";\n        }\n      } catch (error) {\n        console.log(`there was an Error during DELETE method: ${error}`);\n        this.setState({\n          loading: false,\n          error\n        });\n      }\n    };\n\n    this.formChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n\n      if (name === \"dob\") {\n        let dobError = formValidation.validateDOB(value);\n        this.setState(state => ({\n          form: { ...state.form,\n            [name]: value,\n            dobError\n          }\n        }));\n      } else {\n        this.setState(state => ({\n          form: { ...state.form,\n            [e.target.name]: e.target.value\n          }\n        }));\n      }\n    };\n\n    this.formSubmitted = e => {\n      e.preventDefault(); //validate entries from this.state.form\n\n      let state = this.state;\n      let nameError = formValidation.validateName(state.form.name);\n      let emailError = formValidation.validateEmail(state.form.email);\n      let roleError = formValidation.validateRole(state.form.role);\n      let dobError = formValidation.validateDOB(state.form.dob);\n      let genderError = formValidation.validateGender(state.form.gender);\n      let newData;\n\n      if (nameError === null && emailError === null && roleError === null && dobError === null && genderError === null) {\n        this.submitData(state.form).then(response => {\n          newData = state.table.data.concat({\n            _id: response._id,\n            ...state.form\n          });\n          console.log(response);\n          this.setState({\n            form: formInitialState,\n            table: {\n              data: newData\n            }\n          });\n        }).catch(error => {\n          console.log(error);\n          this.setState({\n            form: formInitialState\n          });\n        });\n      } else {\n        console.log(state);\n        this.setState(state => ({\n          form: { ...state.form,\n            nameError,\n            emailError,\n            roleError,\n            dobError,\n            genderError\n          }\n        }));\n      } //toggle submit to true (may not be necessary)\n\n    };\n\n    this.state = {\n      loading: true,\n      error: null,\n      form: {\n        loading: false,\n        data: formInitialState\n      },\n      table: {\n        loading: false,\n        data: [// {\n          //   name: \"Raynulfo Mata\",\n          //   email: \"rjmata95@gmail.com\",\n          //   role: \"JrDev\",\n          //   dob: \"12/19/1995\",\n          //   gender: \"male\",\n          // },\n        ]\n      }\n    };\n  }\n\n  componentDidMount() {\n    // this.setState({\n    //   loading: false,\n    // });\n    this.fetchData();\n  }\n\n  render() {\n    if (this.state.loading) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 14\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"green-bg\",\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(EmployeeForm, {\n          onChange: this.formChange,\n          formState: this.state.form,\n          onSubmit: this.formSubmitted\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(EmployeeTable, {\n          updateTable: this.state.table.data,\n          deleteHandler: this.deleteData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default mainApp;","map":{"version":3,"sources":["/home/rjmata95/Desktop/Learning/platzi/react/hello-react/src/pages/MainApp.js"],"names":["React","NavBar","EmployeeForm","EmployeeTable","v4","uuid","formValidation","formInitialState","name","nameError","email","emailError","role","roleError","dob","dobError","gender","genderError","mainApp","Component","constructor","props","fetchData","setState","table","loading","response","fetch","data","json","body","error","console","log","submitData","method","headers","JSON","stringify","parsedResponse","Promise","resolve","reject","deleteData","id","status","updatedTable","state","filter","element","_id","formChange","e","value","target","validateDOB","form","formSubmitted","preventDefault","validateName","validateEmail","validateRole","validateGender","newData","then","concat","catch","componentDidMount","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./styles/MainApp.css\";\nimport NavBar from \"../components/NavBar\";\nimport EmployeeForm from \"../components/EmployeeForm\";\nimport EmployeeTable from \"../components/EmployeeTable\";\nimport { v4 as uuid } from \"uuid\";\nimport formValidation from \"../components/formValidation\";\n\nconst formInitialState = {\n  name: \"\",\n  nameError: null,\n  email: \"\",\n  emailError: null,\n  role: \"\",\n  roleError: null,\n  dob: \"\",\n  dobError: null,\n  gender: \"\",\n  genderError: null,\n};\nclass mainApp extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      error: null,\n      form: {\n        loading: false,\n        data: formInitialState,\n      },\n      table: {\n        loading: false,\n        data: [\n          // {\n          //   name: \"Raynulfo Mata\",\n          //   email: \"rjmata95@gmail.com\",\n          //   role: \"JrDev\",\n          //   dob: \"12/19/1995\",\n          //   gender: \"male\",\n          // },\n        ],\n      },\n    };\n  }\n\n  componentDidMount() {\n    // this.setState({\n    //   loading: false,\n    // });\n    this.fetchData();\n  }\n\n  fetchData = async () => {\n    this.setState({ table: { loading: true } });\n    try {\n      const response = await fetch(\"http://localhost:8080/table\");\n      const data = await response.json();\n      this.setState({\n        table: { loading: false, data: data.body },\n      });\n    } catch (error) {\n      this.setState({\n        table: { loading: false },\n        error,\n      });\n      console.log(`there's been an error: ${error}`);\n    }\n  };\n\n  submitData = async (data) => {\n    this.setState({ loading: true });\n    try {\n      const response = await fetch(\"http://localhost:8080/table\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(data),\n      });\n      this.setState({ loading: false });\n      let parsedResponse = await response.json();\n      return Promise.resolve(parsedResponse.body);\n    } catch (error) {\n      this.setState({\n        loading: false,\n        error,\n      });\n      console.log(`there was an Error during POST method: ${error}`);\n      return Promise.reject(error);\n    }\n  };\n\n  deleteData = async (id) => {\n    this.setState({ loading: true });\n    try {\n      const response = await fetch(`http://localhost:8080/table/${id}`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: \"\",\n      });\n\n      const parsedResponse = await response.json();\n      if (response.status) {\n        let updatedTable = [...this.state.table.data].filter(\n          (element) => element._id !== id\n        );\n        console.log(parsedResponse);\n        this.setState({ loading: false, table: { data: updatedTable } });\n      } else {\n        this.setState({ loading: false });\n        throw \"Server response status is set to Failure\";\n      }\n    } catch (error) {\n      console.log(`there was an Error during DELETE method: ${error}`);\n      this.setState({ loading: false, error });\n    }\n  };\n\n  formChange = (e) => {\n    const { name, value } = e.target;\n    if (name === \"dob\") {\n      let dobError = formValidation.validateDOB(value);\n      this.setState((state) => ({\n        form: {\n          ...state.form,\n          [name]: value,\n          dobError,\n        },\n      }));\n    } else {\n      this.setState((state) => ({\n        form: {\n          ...state.form,\n          [e.target.name]: e.target.value,\n        },\n      }));\n    }\n  };\n\n  formSubmitted = (e) => {\n    e.preventDefault();\n    //validate entries from this.state.form\n    let state = this.state;\n\n    let nameError = formValidation.validateName(state.form.name);\n    let emailError = formValidation.validateEmail(state.form.email);\n    let roleError = formValidation.validateRole(state.form.role);\n    let dobError = formValidation.validateDOB(state.form.dob);\n    let genderError = formValidation.validateGender(state.form.gender);\n    let newData;\n\n    if (\n      nameError === null &&\n      emailError === null &&\n      roleError === null &&\n      dobError === null &&\n      genderError === null\n    ) {\n      this.submitData(state.form)\n        .then((response) => {\n          newData = state.table.data.concat({\n            _id: response._id,\n            ...state.form,\n          });\n          console.log(response);\n          this.setState({ form: formInitialState, table: { data: newData } });\n        })\n        .catch((error) => {\n          console.log(error);\n          this.setState({ form: formInitialState });\n        });\n    } else {\n      console.log(state);\n      this.setState((state) => ({\n        form: {\n          ...state.form,\n          nameError,\n          emailError,\n          roleError,\n          dobError,\n          genderError,\n        },\n      }));\n    }\n\n    //toggle submit to true (may not be necessary)\n  };\n  render() {\n    if (this.state.loading) {\n      return <p>Loading...</p>;\n    }\n    return (\n      <div className=\"green-bg\">\n        <NavBar />\n        <div>\n          <EmployeeForm\n            onChange={this.formChange}\n            formState={this.state.form}\n            onSubmit={this.formSubmitted}\n          />\n        </div>\n        <div>\n          <EmployeeTable\n            updateTable={this.state.table.data}\n            deleteHandler={this.deleteData}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default mainApp;\n"]},"metadata":{},"sourceType":"module"}