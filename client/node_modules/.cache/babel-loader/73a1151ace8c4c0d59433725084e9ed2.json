{"ast":null,"code":"var _jsxFileName = \"/home/rjmata95/Desktop/Learning/platzi/react/hello-react/src/pages/MainApp.js\";\nimport React from \"react\";\nimport \"./styles/MainApp.css\";\nimport NavBar from \"../components/NavBar\";\nimport EmployeeForm from \"../components/EmployeeForm\";\nimport EmployeeTable from \"../components/EmployeeTable\";\nimport { v4 as uuid } from \"uuid\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  loading: true,\n  error: null,\n  form: {\n    name: \"\",\n    email: \"\",\n    role: \"\",\n    dob: \"\",\n    gender: \"\"\n  },\n  table: {\n    submit: false,\n    data: [// {\n      //   name: \"Raynulfo Mata\",\n      //   email: \"rjmata95@gmail.com\",\n      //   role: \"JrDev\",\n      //   dob: \"12/19/1995\",\n      //   gender: \"male\",\n      // },\n    ]\n  }\n};\n\nclass mainApp extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchData = async () => {\n      this.setState({\n        loading: true\n      });\n\n      try {\n        const response = await fetch(\"http://localhost:8080/table\");\n        const data = await response.json();\n        this.setState({\n          loading: false,\n          table: {\n            data: data.body\n          }\n        });\n        console.log(data);\n      } catch (error) {\n        this.setState({\n          loading: false,\n          error\n        });\n        console.log(`there's been an error: ${error}`);\n      }\n    };\n\n    this.setNewEntries = () => {};\n\n    this.formChange = e => {\n      this.setState(state => ({\n        form: { ...state.form,\n          [e.target.name]: e.target.value\n        }\n      }));\n    };\n\n    this.formSubmitted = e => {\n      e.preventDefault(); //validate entries from this.state.form\n\n      this.setState(state => {\n        const newData = state.table.data.concat({\n          _id: uuid(),\n          ...state.form\n        });\n        return {\n          table: {\n            data: newData\n          }\n        };\n      }); //toggle submit to true (may not be necessary)\n    };\n\n    this.state = initialState;\n  }\n\n  componentDidMount() {\n    // this.setState({\n    //   loading: false,\n    // });\n    this.fetchData();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"green-bg\",\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(EmployeeForm, {\n          onChange: this.formChange,\n          formState: this.state.form,\n          onSubmit: this.formSubmitted\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(EmployeeTable, {\n          updateTable: this.state.table.data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default mainApp;","map":{"version":3,"sources":["/home/rjmata95/Desktop/Learning/platzi/react/hello-react/src/pages/MainApp.js"],"names":["React","NavBar","EmployeeForm","EmployeeTable","v4","uuid","initialState","loading","error","form","name","email","role","dob","gender","table","submit","data","mainApp","Component","constructor","props","fetchData","setState","response","fetch","json","body","console","log","setNewEntries","formChange","e","state","target","value","formSubmitted","preventDefault","newData","concat","_id","componentDidMount","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./styles/MainApp.css\";\nimport NavBar from \"../components/NavBar\";\nimport EmployeeForm from \"../components/EmployeeForm\";\nimport EmployeeTable from \"../components/EmployeeTable\";\nimport { v4 as uuid } from \"uuid\";\n\nconst initialState = {\n  loading: true,\n  error: null,\n  form: {\n    name: \"\",\n    email: \"\",\n    role: \"\",\n    dob: \"\",\n    gender: \"\",\n  },\n  table: {\n    submit: false,\n    data: [\n      // {\n      //   name: \"Raynulfo Mata\",\n      //   email: \"rjmata95@gmail.com\",\n      //   role: \"JrDev\",\n      //   dob: \"12/19/1995\",\n      //   gender: \"male\",\n      // },\n    ],\n  },\n};\nclass mainApp extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = initialState;\n  }\n\n  componentDidMount() {\n    // this.setState({\n    //   loading: false,\n    // });\n    this.fetchData();\n  }\n\n  fetchData = async () => {\n    this.setState({ loading: true });\n    try {\n      const response = await fetch(\"http://localhost:8080/table\");\n      const data = await response.json();\n      this.setState({\n        loading: false,\n        table: { data: data.body },\n      });\n\n      console.log(data);\n    } catch (error) {\n      this.setState({\n        loading: false,\n        error,\n      });\n      console.log(`there's been an error: ${error}`);\n    }\n  };\n\n  setNewEntries = () => {};\n\n  formChange = (e) => {\n    this.setState((state) => ({\n      form: {\n        ...state.form,\n        [e.target.name]: e.target.value,\n      },\n    }));\n  };\n  formSubmitted = (e) => {\n    e.preventDefault();\n    //validate entries from this.state.form\n    this.setState((state) => {\n      const newData = state.table.data.concat({\n        _id: uuid(),\n        ...state.form,\n      });\n      return { table: { data: newData } };\n    });\n    //toggle submit to true (may not be necessary)\n  };\n  render() {\n    return (\n      <div className=\"green-bg\">\n        <NavBar />\n        <div>\n          <EmployeeForm\n            onChange={this.formChange}\n            formState={this.state.form}\n            onSubmit={this.formSubmitted}\n          />\n        </div>\n        <div>\n          <EmployeeTable updateTable={this.state.table.data} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default mainApp;\n"]},"metadata":{},"sourceType":"module"}